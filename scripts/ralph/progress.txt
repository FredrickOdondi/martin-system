# Ralph Progress Log
Started: Wed Jan 14 03:26:57 AM EAT 2026

## Codebase Patterns
- Use `Mapped[Optional[...]]` with `mapped_column(..., nullable=True)` for optional model fields
- Always run `alembic upgrade head` before `alembic revision --autogenerate` to ensure DB is up to date
- Models use `__table_args__ = {'extend_existing': True}` pattern for SQLAlchemy
- Enum classes extend `(str, enum.Enum)` for JSON serialization compatibility

---

## 2026-01-14 03:30 EAT - DEAL-001
Thread: https://ampcode.com/threads/T-019bb9e6-26e7-7098-b286-a134725d5596
- What was implemented:
  - Added `InvestorMatchStatus` enum with statuses: DETECTED, CONTACTED, INTERESTED, NEGOTIATING, COMMITTED
  - Extended `Project` model with new fields: `pillar`, `lead_country`, `afcen_score`, `strategic_alignment_score`, `assigned_agent`
  - Created `Investor` model with fields: `name`, `sector_preferences`, `ticket_size_min`, `ticket_size_max`, `geographic_focus`, `investment_instruments`
  - Created `ProjectInvestorMatch` model linking projects to investors with match scoring and status tracking
  - Generated and applied Alembic migration `bedc4b3e14da_deal_pipeline_models.py`
- Files changed:
  - backend/app/models/models.py
  - backend/alembic/versions/bedc4b3e14da_deal_pipeline_models.py
- **Learnings for future iterations:**
  - The existing models use SQLAlchemy 2.0 mapped_column style with type annotations
  - JSON columns are used for list-type fields (e.g., `sector_preferences`, `geographic_focus`)
  - Numeric(5,2) is suitable for score fields (0.00 to 999.99 range)
  - Relationships need `back_populates` on both sides for proper ORM functionality
---
